---
name: update-docs
description: 작업 완료 후 프로젝트 문서를 업데이트합니다. 세션 로그, 프로젝트 문서, MD 파일 업데이트 요청 시 사용. "문서 업데이트해줘", "세션 정리해줘" 등의 요청에 트리거.
---

# 문서 업데이트 가이드

작업 완료 후 관련 MD 파일을 업데이트할 때 사용합니다.

## 작업 수집 절차 (중요)

**git만 보면 안 됩니다.** 아래 3가지 소스를 모두 확인하여 작업을 빠짐없이 수집하세요.

### 1단계: 대화 컨텍스트에서 수집

이번 세션의 대화 흐름을 처음부터 훑어서:
- 사용자가 요청한 작업 목록
- 실제 수행한 기능 추가/수정/삭제
- 발생한 이슈와 해결 방법
- 논의된 결정사항

**예시 정리 형식:**
```
1. [요청] AI 추천 가로 스크롤 제거 → [완료] 그리드 레이아웃으로 변경
2. [요청] 챗봇 준비중 안내 → [완료] 토스트 + setTimeout cleanup
3. [발견] API 캐시 리스크 → [해결] Cache-Control 제거
```

### 2단계: TaskList에서 수집

```
TaskList 도구 호출하여 완료된 task 확인
```

- status가 `completed`인 모든 작업
- 진행 중(`in_progress`)이었다가 완료된 작업

### 3단계: git에서 수집

```bash
git diff --name-only              # 미커밋 변경 파일
git diff --stat HEAD~10           # 최근 10커밋 변경 범위
git log --oneline -10             # 커밋 메시지
```

### 4단계: 교차 검증

| 소스 | 수집 항목 |
|------|----------|
| 대화 컨텍스트 | A, B, C, D, E |
| TaskList | B, C, D |
| git diff | A, B, C |

→ 누락 없이 A~E 모두 문서화

---

## 업데이트 체크리스트

### 필수 업데이트

- [ ] `agent-guide/SESSION.md`
  - 세션 로그에 **모든** 작업 요약 추가
  - 다음 작업 상태 업데이트

### 조건부 업데이트

| 변경 유형 | 업데이트 파일 |
|----------|--------------|
| 프로젝트 구조 변경 | `agent-guide/PROJECT.md` |
| 설정 방식 변경 | `agent-guide/PROJECT.md` |
| 작업 원칙/코드 스타일 변경 | `agent-guide/GUIDE.md` |
| API 추가/수정 | `docs/API_SPEC.md` |
| 새 기능 추가 | `docs/PLANNING.md` |

---

## 업데이트 형식

### SESSION.md 세션 로그

```markdown
| **YYYY-MM-DD** | [작업 요약: 수집된 모든 항목 나열] |
```

**좋은 예:**
```markdown
| **2025-01-27** | 피드백 반영: AI추천 그리드화, 필터 레이아웃, 챗봇 준비중 UX, 캘린더 기본값, 진행중 표기, SWR 리팩토링, 과거이벤트 토글 추가 / 리스크 수정: API 캐시 제거, 이번주 종료일 보정, 캘린더 초기화 UX |
```

**나쁜 예:**
```markdown
| **2025-01-27** | 캘린더 초기화 수정 |  ← 최근 작업만 기록
```

### SESSION.md 다음 작업

- 완료: `**완료**`
- 진행중: `**진행중**`
- 새 작업 추가 시 우선순위 지정
