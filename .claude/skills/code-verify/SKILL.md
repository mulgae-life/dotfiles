---
name: code-verify
description: 작업 완료 후 결과물을 점검합니다. 코드, 문서, 리포트, 계획서 등 모든 작업 유형을 지원합니다. 잘못된 부분, 누락 사항, 영향도를 확인합니다. 작업 완료 후 "점검해줘", "확인해줘" 등의 요청 시 사용합니다.
---

# 작업 점검 가이드

방금 완료한 작업에 대해 꼼꼼하게 점검합니다.
계획된 작업이 정확히 반영되었는지, 누락된 부분은 없는지, 다른 부분에 미치는 영향은 없는지 확인합니다.

## 점검 절차

### 1단계: 작업 유형 감지

대화 컨텍스트, 변경된 파일 확장자, git diff를 종합하여 작업 유형을 판별합니다.

| 유형 | 판별 기준 |
|------|----------|
| **코드** | `.py`, `.ts`, `.js`, `.go` 등 소스 코드 변경 |
| **문서** | `.md`, `.txt`, `.rst` 등 문서 파일 작성/수정 |
| **리포트** | 분석 결과, 조사 내용, 리뷰 리포트 작성 |
| **계획서** | 구현 계획, 설계 문서, 작업 계획 작성 |
| **설정** | `.json`, `.yaml`, `.toml`, `.env` 등 설정 파일 변경 |
| **혼합** | 위 유형이 2개 이상 포함 → 각 유형별 점검 모두 적용 |

### 2단계: 변경 사항 파악

#### 코드/설정 변경이 있는 경우
```bash
git diff --cached   # staged 변경
git diff            # unstaged 변경
git status          # 전체 상태
```

#### 문서/리포트/계획서의 경우
- 작성된 파일을 직접 읽어 내용 파악
- 대화에서 요청된 사항과 실제 결과물 대조

### 3단계: 공통 점검 (모든 유형)

- [ ] **완전성**: 요청한 내용이 모두 반영되었는가?
- [ ] **정확성**: 사실과 다르거나 틀린 내용이 없는가?
- [ ] **일관성**: 용어, 형식, 톤이 일관되는가?
- [ ] **명확성**: 모호하거나 이해하기 어려운 부분이 없는가?
- [ ] **누락 확인**: 빠뜨린 항목이나 섹션이 없는가?

### 4단계: 유형별 점검

#### 코드 점검

##### 정확성 검증
- [ ] **구현 완전성**: 요청한 기능이 모두 구현되었는가?
- [ ] **로직 오류**: 조건문, 반복문, 분기 처리가 올바른가?
- [ ] **타입 정합성**: 타입 힌트와 실제 값이 일치하는가?
- [ ] **예외 처리**: 발생 가능한 예외가 적절히 처리되는가?

##### 누락 사항 확인
- [ ] **계획 반영**: 계획된 작업들을 모두 수행했는가?
- [ ] **필수 import**: 사용한 모듈이 모두 import 되었는가?
- [ ] **초기화**: 필요한 변수/객체가 초기화되었는가?
- [ ] **반환값**: 함수 반환값이 명세와 일치하는가?
- [ ] **로깅**: 중요 지점에 로그가 추가되었는가?
- [ ] **주석**: 복잡한 로직에 설명이 있는가?

##### 영향도 분석
- [ ] **호출 코드**: 수정한 함수/클래스를 사용하는 코드 확인
- [ ] **의존성 체인**: 변경이 다른 모듈에 미치는 영향
- [ ] **API 호환성**: 외부에 노출된 인터페이스 변경 여부
- [ ] **설정 파일**: 관련 설정 변경 필요 여부

##### 품질 확인
- [ ] **코드 스타일**: 프로젝트 컨벤션 준수
- [ ] **중복 코드**: 불필요한 중복 발생 여부
- [ ] **성능 영향**: N+1 쿼리, 불필요한 루프 등

#### 문서 점검
- [ ] **구조**: 제목 계층, 섹션 순서가 논리적인가?
- [ ] **목차 정합성**: 목차가 있다면 실제 내용과 일치하는가?
- [ ] **링크 유효성**: 참조 링크, 파일 경로가 유효한가?
- [ ] **마크다운 문법**: 테이블, 리스트, 코드 블록 등 문법이 올바른가?
- [ ] **기존 문서 정합성**: 관련 문서와 내용이 모순되지 않는가?

#### 리포트 점검
- [ ] **분석 근거**: 주장에 대한 근거가 명확한가?
- [ ] **수치 정확성**: 통계, 수치, 비율 등이 정확한가?
- [ ] **편향 점검**: 한쪽으로 치우친 분석이 아닌가?
- [ ] **실행 가능성**: 제안/권고사항이 실행 가능한가?

#### 계획서 점검
- [ ] **목표 명확성**: 달성 목표가 구체적이고 측정 가능한가?
- [ ] **단계 완전성**: 실행 단계가 빠짐없이 기술되었는가?
- [ ] **의존성**: 단계 간 의존성과 순서가 올바른가?
- [ ] **리스크**: 예상 리스크와 대응 방안이 있는가?
- [ ] **기존 계획 정합성**: 관련 계획/문서와 모순되지 않는가?

#### 설정 점검
- [ ] **문법 유효성**: JSON/YAML/TOML 등 문법이 올바른가?
- [ ] **시크릿 노출**: 민감 정보가 하드코딩되지 않았는가?
- [ ] **하위 호환성**: 기존 설정과 호환되는가?

### 5단계: 품질 게이트 실행 (코드 변경이 있고, 프로젝트에 설정된 경우)

새 도구를 설치하지 말고, 레포에 이미 설정된 명령어만 사용합니다.

#### 우선순위
1. `Makefile`/`poetry`/`uv`/`pipenv`/CI 스크립트에 정의된 명령어
2. 없으면 아래 기본 커맨드 직접 실행

#### Python 기본 커맨드
```bash
black .                    # 포맷
ruff check .               # 린트 (자동수정: ruff check --fix .)
mypy .                     # 타입체크 (있을 때)
pytest                     # 테스트 (있을 때)
```

#### TypeScript/Next.js 기본 커맨드
```bash
npm run lint               # ESLint
npm run type-check         # tsc (있을 때)
npm run build              # 빌드 검증
npm test                   # 테스트 (있을 때)
```

#### 실패 시 대응
- 하나라도 실패하면 "완료"로 보고하지 않음
- 실패 원인 → 수정 → 재실행 결과까지 포함해 정리

## 점검 결과 출력 형식

```markdown
## 점검 결과

### 작업 유형
코드 / 문서 / 리포트 / 계획서 / 설정 / 혼합

### 변경 파일
- `파일1`: 변경 내용 요약
- `파일2`: 변경 내용 요약

### 공통 점검
- [x] 완전성 확인
- [x] 정확성 확인
- [x] 일관성 확인
...

### 유형별 점검
- [x] (유형별 항목)
...

### 발견된 문제
1. **[심각도]** 문제 설명
   - 위치: `파일:라인` 또는 해당 섹션
   - 권장 조치: ...

### 영향도 분석
- 영향받는 파일/모듈/문서 목록
- 추가 확인 필요 여부

### 최종 판정
- [ ] 이상 없음 - 커밋/배포/제출 가능
- [ ] 수정 필요 - 위 문제 해결 후 재점검
```

## 심각도 기준

| 심각도 | 설명 | 조치 |
|--------|------|------|
| **심각** | 기능 오류, 데이터 손상, 사실 오류 | 즉시 수정 |
| **주의** | 잠재적 버그, 타입 불일치, 논리 비약 | 수정 권장 |
| **참고** | 스타일, 개선 제안, 표현 다듬기 | 선택적 |

## 사용 예시

사용자가 다음과 같이 요청할 때 이 스킬이 활성화됩니다:

- "방금 작업한 코드 점검해줘"
- "변경 사항 확인해줘"
- "이상 없는지 리뷰해줘"
- "커밋 전에 한번 봐줘"
- "문서 빠진 거 없는지 봐줘"
- "계획서 점검해줘"
- "리포트 확인해줘"
- "설정 파일 이상 없어?"
