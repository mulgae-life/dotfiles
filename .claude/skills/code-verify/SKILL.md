---
name: code-verify
description: 코딩 작업 후 결과물을 점검합니다. 잘못된 부분, 누락 사항, 다른 코드 영향도를 확인합니다. 작업 완료 후 "점검해줘", "확인해줘" 등의 요청 시 사용합니다.
---

# 코딩 작업 점검 가이드

방금 완료한 코딩 작업에 대해 꼼꼼하게 점검합니다.
계획된 변경 사항이 정확히 반영되었는지, 누락된 부분은 없는지, 다른 코드에 미치는 영향은 없는지 확인합니다.

## 점검 절차

### 1단계: 변경 사항 파악

```bash
git diff --cached   # staged 변경
git diff            # unstaged 변경
git status          # 전체 상태
```

### 2단계: 점검 체크리스트

#### 정확성 검증
- [ ] **구현 완전성**: 요청한 기능이 모두 구현되었는가?
- [ ] **로직 오류**: 조건문, 반복문, 분기 처리가 올바른가?
- [ ] **타입 정합성**: 타입 힌트와 실제 값이 일치하는가?
- [ ] **예외 처리**: 발생 가능한 예외가 적절히 처리되는가?

#### 누락 사항 확인
- [] **계획 반영**: 계획된 작업들을 모두 수행했는가?
- [ ] **필수 import**: 사용한 모듈이 모두 import 되었는가?
- [ ] **초기화**: 필요한 변수/객체가 초기화되었는가?
- [ ] **반환값**: 함수 반환값이 명세와 일치하는가?
- [ ] **로깅**: 중요 지점에 로그가 추가되었는가?
- [ ] **주석**: 복잡한 로직에 설명이 있는가?

#### 영향도 분석
- [ ] **호출 코드**: 수정한 함수/클래스를 사용하는 코드 확인
- [ ] **의존성 체인**: 변경이 다른 모듈에 미치는 영향
- [ ] **API 호환성**: 외부에 노출된 인터페이스 변경 여부
- [ ] **설정 파일**: 관련 설정 변경 필요 여부

#### 품질 확인
- [ ] **코드 스타일**: 프로젝트 컨벤션 준수
- [ ] **중복 코드**: 불필요한 중복 발생 여부
- [ ] **성능 영향**: N+1 쿼리, 불필요한 루프 등

### 3단계: 품질 게이트 실행 (프로젝트에 있는 경우)

새 도구를 설치하지 말고, 레포에 이미 설정된 명령어만 사용합니다.

#### 우선순위
1. `Makefile`/`poetry`/`uv`/`pipenv`/CI 스크립트에 정의된 명령어
2. 없으면 아래 기본 커맨드 직접 실행

#### Python 기본 커맨드
```bash
black .                    # 포맷
ruff check .               # 린트 (자동수정: ruff check --fix .)
mypy .                     # 타입체크 (있을 때)
pytest                     # 테스트 (있을 때)
```

#### TypeScript/Next.js 기본 커맨드
```bash
npm run lint               # ESLint
npm run type-check         # tsc (있을 때)
npm run build              # 빌드 검증
npm test                   # 테스트 (있을 때)
```

#### 실패 시 대응
- 하나라도 실패하면 "완료"로 보고하지 않음
- 실패 원인 → 수정 → 재실행 결과까지 포함해 정리

## 점검 결과 출력 형식

```markdown
## 점검 결과

### 변경 파일
- `파일1.py`: 변경 내용 요약
- `파일2.py`: 변경 내용 요약

### 점검 완료 항목
- [x] 구현 완전성 확인
- [x] 타입 정합성 확인
...

### 발견된 문제
1. **[심각도]** 문제 설명
   - 위치: `파일:라인`
   - 권장 조치: ...

### 영향도 분석
- 영향받는 파일/모듈 목록
- 추가 테스트 필요 여부

### 최종 판정
- [ ] 이상 없음 - 커밋/배포 가능
- [ ] 수정 필요 - 위 문제 해결 후 재점검
```

## 심각도 기준

| 심각도 | 설명 | 조치 |
|--------|------|------|
| **심각** | 기능 오류, 데이터 손상 가능 | 즉시 수정 |
| **주의** | 잠재적 버그, 타입 불일치 | 수정 권장 |
| **참고** | 스타일, 개선 제안 | 선택적 |

## 사용 예시

사용자가 다음과 같이 요청할 때 이 스킬이 활성화됩니다:

- "방금 작업한 코드 점검해줘"
- "변경 사항 확인해줘"
- "이상 없는지 리뷰해줘"
- "커밋 전에 한번 봐줘"
