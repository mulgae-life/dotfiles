---
name: code-review
description: 심각도 등급이 포함된 코드 리뷰 리포트 작성. 코드베이스 리뷰, 이슈 문서화 시 사용. "코드 리뷰해줘", "리뷰 리포트 작성해줘" 등의 요청에 트리거.
---

# 코드 리뷰 가이드

코드 리뷰 리포트 작성 시 사용합니다.

## 심각도 분류

| 심각도 | 설명 | 예시 |
|--------|------|------|
| **P0** | 즉시 수정 필요 | 보안 취약점, 데이터 손실 위험, 서비스 장애 |
| **P1** | 조속한 수정 권장 | 버그, 타입 오류, 중요 로직 결함 |
| **P2** | 점진적 개선 | 코드 품질, 성능, 가독성 |
| **P3** | 참고 사항 | 개선 제안, 스타일 |

## 리포트 형식

### 파일명
```
agent-guide/reviews/code-review_YYMMDD.md
```

### 구조
1. **제목**: `# 코드 리뷰 리포트 (YYYY-MM-DD)`
2. **설명**: 리뷰 범위/목적
3. **요약 테이블**: 심각도별 건수
4. **이슈 상세**: P0 → P1 → P2 순서

### 이슈 작성 형식
```markdown
### P{N}-{번호}. [이슈 제목]

- **파일**: `경로/파일.py`
- **라인**: N-M
- **문제**: [문제 설명]

\`\`\`python
# 현재 코드 (문제)
...
\`\`\`

**해결책**: [해결책 설명]

\`\`\`python
# 수정 방안
...
\`\`\`
```

## 체크리스트

### 리뷰 시 확인 항목

- [ ] 보안 취약점 (API Key 노출, 인젝션, 인증)
- [ ] 에러 처리 (예외 처리, 에러 매핑)
- [ ] 타입 안전성 (타입 힌트, None 체크)
- [ ] 동시성 (락, 원자성)
- [ ] 설정 관리 (하드코딩, 환경변수)
- [ ] 코드 품질 (중복, 복잡도)

### 리포트 작성 후

- [ ] 요약 테이블 건수 정확한지 확인
- [ ] 모든 이슈에 파일/라인 명시
- [ ] 해결책 코드 예시 포함
